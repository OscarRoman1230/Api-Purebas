(function(t){function a(a){for(var r,s,i=a[0],c=a[1],l=a[2],u=0,v=[];u<i.length;u++)s=i[u],Object.prototype.hasOwnProperty.call(e,s)&&e[s]&&v.push(e[s][0]),e[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);d&&d(a);while(v.length)v.shift()();return n.push.apply(n,l||[]),o()}function o(){for(var t,a=0;a<n.length;a++){for(var o=n[a],r=!0,i=1;i<o.length;i++){var c=o[i];0!==e[c]&&(r=!1)}r&&(n.splice(a--,1),t=s(s.s=o[0]))}return t}var r={},e={app:0},n=[];function s(a){if(r[a])return r[a].exports;var o=r[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=t,s.c=r,s.d=function(t,a,o){s.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:o})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,a){if(1&a&&(t=s(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var r in t)s.d(o,r,function(a){return t[a]}.bind(null,r));return o},s.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(a,"a",a),a},s.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=a,i=i.slice();for(var l=0;l<i.length;l++)a(i[l]);var d=c;n.push([0,"chunk-vendors"]),o()})({0:function(t,a,o){t.exports=o("56d7")},2563:function(t,a,o){},"56d7":function(t,a,o){"use strict";o.r(a);o("e260"),o("e6cf"),o("cca6"),o("a79d");var r=o("2b0e"),e=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",[o("b-navbar",{attrs:{toggeable:"lg",type:"dark",variant:"dark"}},[o("b-navbar-brand",{attrs:{href:"#"}},[t._v("Carrito de Compras")]),o("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),o("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[o("b-navbar-nav")],1)],1),o("router-view")],1)},n=[],s={name:"App",components:{}},i=s,c=o("2877"),l=Object(c["a"])(i,e,n,!1,null,null,null),d=l.exports,u=o("5f5b"),v=o("b1e0"),p=o("8c4f"),f=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",[o("div",{staticClass:"p-3"},[o("b-form-group",{staticClass:"container",attrs:{label:"Filtro por categoria:","label-for":"categories"}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-5"},[o("b-form-select",{staticClass:"mb-3",attrs:{id:"categories"},on:{change:function(a){return t.getProductsbyCat()}},model:{value:t.option,callback:function(a){t.option=a},expression:"option"}},[o("b-form-select-option",{attrs:{value:null}},[t._v("Por favor seleccione una categoria")]),t._l(t.dataC,(function(a){return o("b-form-select-option",{key:a.id,attrs:{value:a}},[t._v(" "+t._s(a.descripcion)+" ")])}))],2)],1),o("div",{staticClass:"col-md-5"},[o("b-button",{staticClass:"mb-3",attrs:{variant:"primary"},on:{click:t.getProducts}},[t._v("Mostrar Todos")])],1)]),t.option?o("div",{staticClass:"mt-2"},[t._v("Filtrando por: "),o("strong",[t._v(t._s(t.option.descripcion))])]):t._e()]),o("div",{staticClass:"row"},[o("div",{staticClass:"col"},[o("b-card-group",{staticClass:"p-3",attrs:{columns:""}},t._l(t.data,(function(a){return o("b-card",{key:a.id,attrs:{title:a.nombre,"img-src":a.url_img,"img-alt":"image","img-top":""}},[o("b-card-text",[t._v(" "+t._s(a.descripcion)+" ")]),o("div",{staticClass:"row"},[o("div",{staticClass:"col"},[o("h4",{staticClass:"text-success"},[t._v(t._s(a.valor))])]),o("div",{staticClass:"col ml-auto"},[o("b-button",{attrs:{variant:"success"},on:{click:function(o){return t.addCart(a)}}},[t._v("Comprar")])],1)])],1)})),1)],1),o("div",{staticClass:"col ml-auto"},[o("table",{staticClass:"table table-hover table-striped table-responsive-md"},[t._m(0),o("tbody",t._l(t.cart,(function(a){return o("tr",{key:a.length},[o("td",[t._v(t._s(a.product["nombre"]))]),o("td",[o("div",{staticClass:"row"},[o("div",{staticClass:"col-5"},[o("b-button",{staticClass:"mr-2",attrs:{disabled:a.cantidad<=1,variant:"primary"},on:{click:function(o){return t.decrecrement(a.product["id"])}}},[t._v("-")])],1),o("div",{staticClass:"col-2"},[o("h4",[t._v(t._s(a.cantidad))])]),o("div",{staticClass:"col-5"},[o("b-button",{staticClass:"mr-2",attrs:{variant:"primary"},on:{click:function(o){return t.increment(a.product["id"])}}},[t._v("+")])],1)])]),o("td",[t._v(t._s(a.product["valor"]))])])})),0)]),o("div",{staticClass:"row ml-auto"},[o("div",{staticClass:"col-1 p-2"},[o("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.my-modal",modifiers:{"my-modal":!0}}],staticClass:"text-dark",attrs:{variant:"warning"},on:{click:t.precio}},[o("i",{staticClass:"fas fa-shopping-cart"})])],1),o("div",{staticClass:"col p-2"},[o("b-button",{attrs:{variant:"danger"},on:{click:t.clean}},[t._v("borrar lista")])],1)])])])],1),o("b-modal",{attrs:{id:"my-modal","hide-backdrop":"","hide-header-close":"","no-close-on-esc":"","no-close-on-backdrop":""}},[o("template",{slot:"modal-footer"},[o("b-button",{attrs:{variant:"dark"},on:{click:t.close}},[t._v("Cerrar")]),o("b-button",{attrs:{variant:"primary"},on:{click:t.saveSale}},[t._v("Comprar")])],1),o("div",{staticClass:"overflow-auto"},[o("h5",[t._v("Productos: ")]),t._l(t.cart,(function(a){return o("ul",{key:a.length},[o("li",[t._v("Producto: "+t._s(a.product["nombre"]))]),o("li",[t._v("Cantidad: "+t._s(a.cantidad))]),o("li",[t._v("Precio: "+t._s(a.product["valor"]))])])}))],2),o("h4",{staticClass:"text-success"},[t._v("mi total es: $"+t._s(t.valorT))])],2)],1)},h=[function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("thead",[o("tr",[o("th",[t._v("Producto")]),o("th",[t._v("Cantidad")]),o("th",[t._v("valor")])])])}],b=(o("99af"),{name:"HelloWorld",data:function(){return{data:[],dataC:[],option:null,cart:[],valorT:0,url:"http://localhost:4000/api"}},methods:{getProducts:function(){var t=this;this.data=[],this.axios.get("".concat(this.url,"/products")).then((function(a){console.log(a.data),t.data=a.data.data,t.data=a.data.data})).catch((function(t){console.log(t)}))},getProductsbyCat:function(){var t=this;this.data=[],this.option?this.axios.get("".concat(this.url,"/products/").concat(this.option.id)).then((function(a){console.log(a.data),t.data=a.data.data,t.data=a.data.data})).catch((function(t){console.log(t)})):this.getProducts()},getCategories:function(){var t=this;this.axios.get("".concat(this.url,"/categories")).then((function(a){console.log(a.data),t.dataC=a.data.data})).catch((function(t){console.log(t)}))},addCart:function(t){var a={product:t,cantidad:1};this.cart.push(a)},increment:function(t){for(var a=0;a<this.cart.length;a++)this.cart[a].product["id"]===t&&(this.cart[a].cantidad=this.cart[a].cantidad+1)},decrecrement:function(t){for(var a=0;a<this.cart.length;a++)this.cart[a].product["id"]===t&&(this.cart[a].cantidad=this.cart[a].cantidad-1)},precio:function(){for(var t=0,a=0;a<this.cart.length;a++)t+=this.cart[a].product["valor2"]*this.cart[a].cantidad;this.valorT=t},clean:function(){this.cart=[]},saveSale:function(){var t=this;this.cart.length&&this.axios.post("".concat(this.url,"/sale/save"),{data:this.cart}).then((function(a){console.log(a),t.$bvModal.hide("my-modal")})).catch((function(t){console.log(t)}))},close:function(){this.$bvModal.hide("my-modal")}},mounted:function(){this.getProducts(),this.getCategories()}}),m=b,g=(o("aa71"),Object(c["a"])(m,f,h,!1,null,"539dd0b9",null)),_=g.exports;r["default"].use(p["a"]);var C=new p["a"]({mode:"history",routes:[{path:"/",name:"list",component:_}]}),y=C,k=o("bc3a"),w=o.n(k),P=o("a7fe"),x=o.n(P);o("d60a"),o("4989"),o("15f5"),o("7051"),r["default"].use(x.a,w.a),r["default"].use(u["a"]),r["default"].use(v["a"]),r["default"].config.productionTip=!1,new r["default"]({render:function(t){return t(d)},router:y}).$mount("#app")},aa71:function(t,a,o){"use strict";var r=o("2563"),e=o.n(r);e.a},d60a:function(t,a,o){}});
//# sourceMappingURL=app.5c367527.js.map